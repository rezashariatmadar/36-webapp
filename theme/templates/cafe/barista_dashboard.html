{% extends "base.html" %}
{% load i18n %}

{% block title %}داشبورد باریستا - ۳۶{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto text-white">
  <div class="flex justify-between items-center mb-10 p-8 glass-panel glass-sheen hover-lift rounded-3xl fade-in-once">
    <div>
      <h1 class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-tr from-white to-accent mb-2">سفارش‌های جاری</h1>
      <p class="opacity-70 font-bold text-lg">مدیریت لحظه‌ای سفارشات کافه</p>
    </div>

    <div class="flex items-center gap-4">
      <div class="badge badge-accent badge-outline gap-2 p-4 font-black">
        <span class="relative flex h-2 w-2">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-75"></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-accent"></span>
        </span>
        بروزرسانی خودکار فعال
      </div>

      <a href="{% url 'cafe:barista_dashboard' %}" class="btn btn-circle glass-panel border-white/10 text-white hover:bg-white/10" title="بازخوانی">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
        </svg>
      </a>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
    {% include "components/kpi_card.html" with label="سفارشات جدید" value=orders.count unit="مورد" trend_type="up" trend_value="لحظه‌ای" %}
    {% include "components/kpi_card.html" with label="در حال آماده‌سازی" value="--" unit="مورد" icon_svg='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>' %}
    {% include "components/kpi_card.html" with label="زمان انتظار" value="--:--" unit="دقیقه" %}
  </div>

  <div id="order-list-container">
    {% include "cafe/partials/order_list.html" %}
  </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
  (function () {
    setTimeout(function () {
      window.location.reload();
    }, 5000);
  })();
</script>
{% endblock %}
