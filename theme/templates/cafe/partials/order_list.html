{% if orders %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 animate-in fade-in duration-500">
        {% for order in orders %}
            <div class="card card-glass shadow-2xl overflow-hidden p-0 border-t-4
                {% if order.status == 'PENDING' %}border-warning
                {% elif order.status == 'PREPARING' %}border-info
                {% elif order.status == 'READY' %}border-accent
                {% else %}border-white/10{% endif %}">
                
                <div class="card-body p-6">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h2 class="card-title text-3xl font-black text-white">#{{ order.id }}</h2>
                            <span class="text-xs font-bold text-white/40 block mt-1">{{ order.created_at|time:"H:i" }} ({{ order.created_at|timesince }} Ù¾ÛŒØ´)</span>
                        </div>
                        <div class="flex flex-col items-end gap-2">
                            <span class="badge badge-accent badge-sm font-black px-3 py-2 text-black border-none">{{ order.get_status_display }}</span>
                            {% if order.is_paid %}
                                <span class="badge bg-success/20 text-success border-success/30 badge-xs font-bold px-2 py-1">Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡</span>
                            {% else %}
                                <span class="badge bg-destructive/20 text-destructive border-destructive/30 badge-xs font-bold px-2 py-1">ØªØ³ÙˆÛŒÙ‡ Ù†Ø´Ø¯Ù‡</span>
                            {% endif %}
                        </div>
                    </div>

                    <div class="space-y-3 mb-8 min-h-[120px]">
                        {% for item in order.items.all %}
                            <div class="flex justify-between items-center bg-white/5 p-3 rounded-xl border border-white/5 group hover:bg-white/10 transition-colors">
                                <span class="font-bold text-sm text-white/80">{{ item.menu_item.name }}</span>
                                <span class="badge glass-panel font-black text-xs text-accent">Ã— {{ item.quantity }}</span>
                            </div>
                        {% endfor %}
                    </div>

                    {% if order.notes %}
                        <div class="bg-black/20 p-4 rounded-2xl text-xs mb-8 border border-white/5 italic text-white/60 leading-relaxed">
                            <span class="font-black text-white/20 block mb-2 uppercase tracking-widest">ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø¨Ø§Ø±ÛŒØ³ØªØ§:</span>
                            {{ order.notes }}
                        </div>
                    {% endif %}

                    <div class="card-actions flex-col gap-3 mt-auto">
                        <div class="grid grid-cols-2 gap-3 w-full">
                            {% if order.status == 'PENDING' %}
                                <button hx-post="{% url 'cafe:update_order_status' order.id 'PREPARING' %}" hx-target="#order-list-container" class="btn-primary btn-sm h-12 rounded-xl text-xs">Ø´Ø±ÙˆØ¹ ØªÙ‡ÛŒÙ‡</button>
                            {% elif order.status == 'PREPARING' %}
                                <button hx-post="{% url 'cafe:update_order_status' order.id 'READY' %}" hx-target="#order-list-container" class="btn-primary bg-success hover:bg-success/80 btn-sm h-12 rounded-xl text-xs text-white">Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯</button>
                            {% elif order.status == 'READY' %}
                                <button hx-post="{% url 'cafe:update_order_status' order.id 'DELIVERED' %}" hx-target="#order-list-container" class="btn-primary btn-sm h-12 rounded-xl text-xs">ØªØ­ÙˆÛŒÙ„ Ø´Ø¯</button>
                            {% endif %}
                            
                            <button hx-post="{% url 'cafe:toggle_order_payment' order.id %}" hx-target="#order-list-container" class="btn-secondary btn-sm h-12 rounded-xl text-[10px]">
                                {% if order.is_paid %}Ù„ØºÙˆ Ù¾Ø±Ø¯Ø§Ø®Øª{% else %}ØªØ§ÛŒÛŒØ¯ Ù¾Ø±Ø¯Ø§Ø®Øª{% endif %}
                            </button>
                        </div>
                        
                        {% if order.status == 'PENDING' %}
                            <button hx-post="{% url 'cafe:update_order_status' order.id 'CANCELLED' %}" hx-target="#order-list-container" class="btn btn-ghost btn-xs text-destructive/60 hover:text-destructive hover:bg-destructive/10 w-full mt-2 font-bold">Ù„ØºÙˆ Ø³ÙØ§Ø±Ø´</button>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% else %}
    {% include "components/empty_state.html" with title="Ù‡ÛŒÚ† Ø³ÙØ§Ø±Ø´ ÙØ¹Ø§Ù„ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯" description="Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ù„Ø§ÙØ§ØµÙ‡ Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯." icon_emoji="ğŸ³" secondary_cta_text="Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ø­Ø¶ÙˆØ±ÛŒ" secondary_cta_url="/cafe/manual-order/" help_text="Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ù‡Ø± Ûµ Ø«Ø§Ù†ÛŒÙ‡ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯." %}
{% endif %}
