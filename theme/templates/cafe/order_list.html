{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Your Orders" %} - Û³Û¶{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto text-white">
    <div class="mb-10 text-center p-8 glass-panel glass-sheen hover-lift rounded-3xl fade-in-once">
        <h1 class="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-tr from-white to-accent">Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù†</h1>
    </div>

    {% if orders %}
        <div class="space-y-6">
            {% for order in orders %}
                <div class="card card-glass glass-sheen hover-lift shadow-2xl overflow-hidden group p-0">
                    <div class="p-6 border-b border-white/10 flex justify-between items-center glass-header">
                        <div>
                            <span class="text-[10px] uppercase tracking-widest text-white/40 block mb-1 font-bold">Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´: #{{ order.id }}</span>
                            <span class="font-black text-white/80">{{ order.created_at|date:"Y/m/d | H:i" }}</span>
                        </div>
                        <div class="badge badge-lg font-black px-6 py-4 border-none shadow-lg
                            {% if order.status == 'PENDING' %}glass-panel text-white/60
                            {% elif order.status == 'PREPARING' %}bg-info text-black
                            {% elif order.status == 'READY' %}bg-accent text-black
                            {% elif order.status == 'DELIVERED' %}bg-white/10 text-white/40
                            {% else %}bg-destructive text-white{% endif %}">
                            {{ order.get_status_display }}
                        </div>
                    </div>
                    
                    <div class="p-8">
                        <div class="space-y-4">
                            {% for item in order.items.all %}
                                <div class="flex justify-between items-center">
                                    <div class="flex items-center gap-3">
                                        <span class="w-8 h-8 rounded-lg glass-chip flex items-center justify-center text-xs font-black text-accent">{{ item.quantity }}x</span>
                                        <span class="font-bold text-white/80">{{ item.menu_item.name }}</span>
                                    </div>
                                    <span class="font-black text-accent/80 format-price">{{ item.get_subtotal }}</span>
                                </div>
                            {% endfor %}
                        </div>
                        
                        <div class="mt-8 pt-8 border-t border-white/10 flex justify-between items-center">
                            <span class="font-black text-white/40 uppercase tracking-tighter">Ù…Ø¬Ù…ÙˆØ¹ Ù¾Ø±Ø¯Ø§Ø®ØªÙ†ÛŒ</span>
                            <div class="flex items-baseline gap-1">
                                <span class="text-3xl font-black text-accent format-price">{{ order.total_price }}</span>
                                <span class="text-xs text-white/40 font-bold">ØªÙˆÙ…Ø§Ù†</span>
                            </div>
                        </div>
                        
                        {% if order.notes %}
                            <div class="mt-6 p-4 glass-inset rounded-2xl text-xs text-white/60 leading-relaxed italic">
                                <span class="font-black block mb-2 text-white/20 uppercase tracking-widest">ØªÙˆØ¶ÛŒØ­Ø§Øª:</span>
                                {{ order.notes }}
                            </div>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        {% include "components/empty_state.html" with title="Ù‡Ù†ÙˆØ² Ø³ÙØ§Ø±Ø´ÛŒ Ø«Ø¨Øª Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯" description="Ù„ÛŒØ³Øª Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯. Ø¢Ù…Ø§Ø¯Ù‡ Ø«Ø¨Øª Ø§ÙˆÙ„ÛŒÙ† Ø³ÙØ§Ø±Ø´ Ù‡Ø³ØªÛŒØ¯ØŸ" icon_emoji="ğŸ›ï¸" primary_cta_text="Ø«Ø¨Øª Ø§ÙˆÙ„ÛŒÙ† Ø³ÙØ§Ø±Ø´" primary_cta_url="/cafe/menu/" %}
    {% endif %}
</div>
{% endblock %}
